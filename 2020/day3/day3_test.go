package day3

import "testing"

func TestMountain(t *testing.T) {
	mountainMap := []string{
		"..##.........##.........##.........##.........##.........##.......",
		"#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..",
		".#....#..#..#....#..#..#....#..#..#....#..#..#....#..#..#....#..#.",
		"..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#",
		".#...##..#..#...##..#..#...##..#..#...##..#..#...##..#..#...##..#.",
		"..#.##.......#.##.......#.##.......#.##.......#.##.......#.##.....",
		".#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#",
		".#........#.#........#.#........#.#........#.#........#.#........#",
		"#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...",
		"#...##....##...##....##...##....##...##....##...##....##...##....#",
		".#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#",
	}
	m := GetMountainFromMap(mountainMap)
	m.GoDownToBottom(3, 1)
	if m.TreesEncountered != 7 {
		t.Errorf("Expected to encounter 7 trees, but encountered %d", m.TreesEncountered)
	}
}

func TestMountainOutOfBounds(t *testing.T) {
	mountainMap := []string{
		"..##..",
		"#...#.",
		".#....",
		"..#.#.",
		"##...#",
		"..##.#.",
		".##.##.",
	}
	m := GetMountainFromMap(mountainMap)
	m.GoDownToBottom(3, 1)
	if m.TreesEncountered != 2 {
		t.Errorf("Expected to encounter 2 trees, but encountered %d", m.TreesEncountered)
	}
}
